@import '../../../../../../assets/sass/index'

// Main Container
.task-board-container
  min-height: 100vh
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)
  padding: 0

// Header Section
.board-header
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)
  padding: 16px 32px
  margin: 0
  box-shadow: 0 4px 20px rgba(102, 126, 234, 0.2)
  position: sticky
  top: 0
  z-index: 100

.header-content
  max-width: 1400px
  margin: 0 auto
  display: flex
  justify-content: space-between
  align-items: flex-start
  gap: 32px

.board-title
  color: white
  font-size: 28px
  font-weight: 700
  margin: 0
  display: flex
  align-items: center
  gap: 12px
  
  svg
    color: rgba(255, 255, 255, 0.9)

// Filters Section
.filters-section
  display: flex
  flex-direction: column
  gap: 16px
  align-items: flex-end

.filter-group
  display: flex
  gap: 12px
  align-items: center

.filter-select
  min-width: 160px
  
  :host ::ng-deep .ant-select-selector
    background: rgba(255, 255, 255, 0.95) !important
    border: 1px solid rgba(255, 255, 255, 0.3) !important
    border-radius: 8px !important
    backdrop-filter: blur(10px)
    transition: all 0.3s ease
    
    &:hover
      background: white !important
      border-color: rgba(255, 255, 255, 0.5) !important
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2)

.action-buttons
  display: flex
  gap: 12px

.new-task-btn
  background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%) !important
  border: none !important
  border-radius: 8px !important
  height: 40px !important
  padding: 0 20px !important
  font-weight: 600 !important
  display: flex !important
  align-items: center !important
  gap: 8px !important
  color: white !important
  box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3) !important
  transition: all 0.3s ease !important
  
  &:hover
    background: linear-gradient(135deg, #ff5252 0%, #ff7979 100%) !important
    transform: translateY(-2px) !important
    box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4) !important

// Kanban Board
.kanban-board
  padding: 32px
  display: flex
  gap: 24px
  max-width: 1400px
  margin: 0 auto
  min-height: calc(100vh - 120px)
  overflow-x: auto

.kanban-column
  background: white
  border-radius: 16px
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08)
  padding: 0
  min-width: 320px
  flex: 1 1 0
  display: flex
  flex-direction: column
  max-height: calc(100vh - 200px)
  transition: all 0.3s ease
  border: 1px solid rgba(255, 255, 255, 0.8)
  
  &:hover
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12)
    transform: translateY(-2px)

// Column Header
.kanban-column-header
  padding: 20px 24px
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)
  border-radius: 16px 16px 0 0
  border-bottom: 1px solid #e2e8f0
  display: flex
  justify-content: space-between
  align-items: center
  position: sticky
  top: 0
  z-index: 10

.column-title
  display: flex
  align-items: center
  gap: 12px
  font-size: 16px
  font-weight: 700
  color: #1e293b

.status-indicator
  width: 8px
  height: 8px
  border-radius: 50%
  
  &.status-todo
    background: #64748b
  &.status-progress
    background: #3b82f6
  &.status-review
    background: #f59e0b
  &.status-done
    background: #10b981

.task-count
  background: #475569
  color: white
  border-radius: 12px
  padding: 4px 8px
  font-size: 12px
  font-weight: 600
  min-width: 24px
  text-align: center

// Tasks Container
.tasks-container
  padding: 12px 24px 24px
  flex: 1
  overflow-y: auto
  
  &::-webkit-scrollbar
    width: 6px
  
  &::-webkit-scrollbar-track
    background: #f1f5f9
    border-radius: 3px
  
  &::-webkit-scrollbar-thumb
    background: #cbd5e1
    border-radius: 3px
    
    &:hover
      background: #94a3b8

// Task Cards
.kanban-task-card
  background: white
  border-radius: 12px
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06)
  padding: 16px
  margin-bottom: 12px
  cursor: grab
  transition: all 0.2s ease
  border: 1px solid #e2e8f0
  
  &:hover
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1)
    transform: translateY(-1px)
    border-color: #c7d2fe
  
  &:active
    cursor: grabbing

.cdk-drag-preview
  box-shadow: 0 8px 32px rgba(59, 130, 246, 0.25) !important
  border: 2px solid #6366f1 !important
  background: #ede9fe !important
  transform: rotate(2deg) !important
  border-radius: 12px !important

.cdk-drag-placeholder
  opacity: 0.4
  border: 2px dashed #6366f1
  background: #f0f9ff
  border-radius: 12px
  min-height: 80px

.cdk-drop-list-dragging .kanban-task-card:not(.cdk-drag-placeholder)
  opacity: 0.6

// Task Card Content
.task-header
  display: flex
  justify-content: space-between
  align-items: flex-start
  margin-bottom: 12px

.task-title
  margin: 0
  font-size: 15px
  font-weight: 600
  color: #1e293b
  line-height: 1.4
  flex: 1
  padding-right: 8px

.task-actions
  display: flex
  gap: 4px
  opacity: 0.7
  transition: opacity 0.2s ease

.kanban-task-card:hover .task-actions
  opacity: 1

.action-btn
  width: 28px !important
  height: 28px !important
  border-radius: 6px !important
  border: none !important
  display: flex !important
  align-items: center !important
  justify-content: center !important
  transition: all 0.2s ease !important
  
  &:hover
    background: #f1f5f9 !important
    color: #3b82f6 !important
  
  svg
    width: 14px !important
    height: 14px !important

.task-description
  color: #64748b
  font-size: 13px
  line-height: 1.4
  margin-bottom: 12px
  display: -webkit-box
  -webkit-line-clamp: 2
  -webkit-box-orient: vertical
  overflow: hidden

.task-footer
  display: flex
  justify-content: space-between
  align-items: flex-end
  gap: 12px

.task-meta
  display: flex
  gap: 8px
  align-items: center
  flex-wrap: wrap

.priority-badge
  font-size: 10px
  font-weight: 600
  padding: 2px 6px
  border-radius: 4px
  text-transform: uppercase
  letter-spacing: 0.5px
  
  &.priority-high
    background: #fef2f2
    color: #dc2626
  &.priority-medium
    background: #fef3c7
    color: #d97706
  &.priority-low
    background: #f0fdf4
    color: #16a34a

.due-date
  display: flex
  align-items: center
  gap: 4px
  font-size: 11px
  color: #64748b
  
  svg
    opacity: 0.7

.assignee-section
  min-width: 120px
  
  .assignee-select
    :host ::ng-deep .ant-select-selector
      height: 28px !important
      border-radius: 6px !important
      border: 1px solid #e2e8f0 !important
      
      &:hover
        border-color: #c7d2fe !important

// Empty State
.empty-column
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  padding: 40px 20px
  color: #94a3b8
  text-align: center
  
  .empty-icon
    margin-bottom: 12px
    opacity: 0.5
  
  p
    margin: 0
    font-size: 14px
    font-weight: 500

// Dropdown Menu Styling
:host ::ng-deep .ant-dropdown-menu
  border-radius: 8px !important
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12) !important
  border: 1px solid #e2e8f0 !important
  
  .ant-dropdown-menu-item
    padding: 8px 12px !important
    display: flex !important
    align-items: center !important
    gap: 8px !important
    
    &:hover
      background: #f8fafc !important
    
    &.delete-item:hover
      background: #fef2f2 !important
      color: #dc2626 !important

// Responsive Design
@media (max-width: 1200px)
  .kanban-board
    padding: 24px 16px
  
  .kanban-column
    min-width: 280px

@media (max-width: 900px)
  .header-content
    flex-direction: column
    align-items: stretch
    gap: 20px
  
  .filters-section
    align-items: stretch
  
  .filter-group
    flex-wrap: wrap
  
  .kanban-board
    flex-direction: column
    padding: 16px
    gap: 16px
  
  .kanban-column
    min-width: 0
    width: 100%
    max-height: 400px

@media (max-width: 600px)
  .board-header
    padding: 16px 20px
  
  .board-title
    font-size: 22px
  
  .filter-select
    min-width: 140px
