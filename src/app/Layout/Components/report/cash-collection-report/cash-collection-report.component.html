<div>
  <div nz-row [nzGutter]="10" class="filter-btn-bar">
    <div nz-col nzSpan="1">
      <span class="filter-txt">Filter by:</span>
    </div>
    <!-- --------------filter date-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="dropdown"
          [nzDropdownMenu]="menu2"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByDateOn === true }"
        >
          Date
        </button>
        <nz-dropdown-menu #menu2="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="date-select">
                <nz-date-picker
                  nzPlaceHolder="Start Date"
                  class="start-date"
                  [nzAllowClear]="true"
                  [nzFormat]="'dd/MM/yyyy'"
                  [(ngModel)]="fromDate"
                  [nzDisabledDate]="disabledFutureDates"
                ></nz-date-picker>
                <nz-date-picker
                  nzPlaceHolder="End Date"
                  class="start-date"
                  [nzAllowClear]="true"
                  [nzFormat]="'dd/MM/yyyy'"
                  [(ngModel)]="toDate"
                  [nzDisabledDate]="disabledFutureDates"
                ></nz-date-picker>
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="resetFilterByDate()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="getCashCollectionReportData()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Transfer Amt.-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="dropdown"
          [nzDropdownMenu]="menu3"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByTotalPayableOn === true }"
        >
          Total Payable.
        </button>
        <nz-dropdown-menu #menu3="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="amount-select">
                <input
                  nz-input
                  placeholder="Start Amount"
                  [(ngModel)]="transferAmountStart"
                  class="start-amount"
                />
                <input
                  nz-input
                  placeholder="End Amount"
                  [(ngModel)]="transferAmountEND"
                />
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange"
                [(ngModel)]="toTotalPayable"
                (click)="resetFilterByTotalPayablet()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="getCashCollectionReportData()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Agent Name-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="dropdown"
          [nzDropdownMenu]="menu10"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByAgentExposableIdOn === true }"
        >
          Agent Name
        </button>
        <nz-dropdown-menu #menu10="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="ref-select">
                <input
                  nz-input
                  placeholder="Enter Agent Name"
                  [(ngModel)]="agentname"
                />
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="resetFilterByresetFilterByAgentExposableId()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="getCashCollectionReportData()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>
  </div>
</div>
<!-- table content -->
<nz-table
  class="desktop_only"
  #existingCustomersTable
  [nzData]="cashcollection"
  [nzShowPagination]="false"
>
  <thead>
    <tr class="heading_tr">
      <th nzCustomFilter>
        <div class="border-start-th">REFERENCE NUMBER</div>
      </th>
      <th>
        <div class="border-middle-th">TRANSACTION DATE</div>
      </th>
      <th nzCustomFilter>
        <div class="border-middle-th">TRANSFER REFERENCE</div>
      </th>
      <th nzCustomFilter>
        <div class="border-middle-th">SENDER FULLNAME</div>
      </th>
      <th>
        <div class="border-middle-th">SEND AMOUNT</div>
      </th>
      <th nzCustomFilter>
        <div class="border-middle-th">TOTAL PAYABLE</div>
      </th>
      <th>
        <div class="border-middle-th">AGENT NAME</div>
      </th>
      <th nzCustomFilter>
        <div class="border-middle-th">COLLECTED BY COLLECTOR</div>
      </th>
      <th>
        <div class="border-middle-th">DATE COLLECTED BY COLLECTOR</div>
      </th>
      <th>
        <div class="border-middle-th">COLLECTED BY AGENT</div>
      </th>
      <th>
        <div class="border-middle-th">DATE COLLECTED BY AGENT</div>
      </th>
    </tr>
  </thead>

  <tbody class="body_tr">
    <tr *ngFor="let data of existingCustomersTable.data">
      <td>
        <div class="border-middle">{{ data.referenceNumber }}</div>
      </td>
      <td>
        <div class="border-middle">
          {{ data.transferDate | slice : 0 : 10 }}
        </div>
      </td>
      <td>
        <div class="border-middle">{{ data.transferReference }}</div>
      </td>
      <td>
        <div class="border-middle">{{ data.senderFullName }}</div>
      </td>
      <td>
        <div class="border-middle">{{ data.sendAmount }}</div>
      </td>
      <td>
        <div class="border-middle">{{ data.totalPayable }}</div>
      </td>
      <td>
        <div class="border-middle">{{ data.agentName }}</div>
      </td>
      <td>
        <div class="border-middle" style="color: #f45300">
          {{ data.collected_by_collector }}
        </div>
      </td>
      <td>
        <div class="border-middle">{{ data.date }}</div>
      </td>
      <td>
        <div class="border-middle" style="color: #f45300">
          {{ data.collected_agent }}
        </div>
      </td>
      <td>
        <div class="border-middle">{{ data.date_agent }}</div>
      </td>
    </tr>
  </tbody></nz-table
>

<div class="mobile_only">
  <div class="table-card">
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>REFERENCE NUMBER</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>LKSPHR9N7</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>TRANSACTION DATE</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>21/04/2023</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>TRANSFER REFERENCE</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>Family maintenance</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>SENDER FULLNAME</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>Premkumar Rajathurai</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>SEND AMOUNT</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>199.85</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>TOTAL PAYABLE</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>202.85</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>AGENT NAME</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>qa_Spoton Money</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>COLLECTED BY COLLECTOR</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>Collected</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>DATE COLLECTED BY COLLECTOR</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>21/04/2023</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>COLLECTED BY AGENT</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>Collected</span>
      </div>
    </div>
    <div nz-row [nzGutter]="12" class="table-row">
      <div nz-col [nzSpan]="12" class="table-col">
        <span>DATE COLLECTED BY AGENT</span>
      </div>
      <div nz-col [nzSpan]="12" class="table-col">
        <span>21/04/2023</span>
      </div>
    </div>
  </div>
</div>
<div class="pagination-row">
  <nz-pagination
    class="pagination"
    [nzPageSize]="pageSize"
    [nzPageIndex]="currentPageIndex"
    (nzPageIndexChange)="pageIndexChange($event)"
    [nzTotal]="totalRecords"
    nzShowQuickJumper
    [nzShowTotal]="rangeTemplate"
  >
  </nz-pagination>
  <ng-template #rangeTemplate let-range="range" let-total>
    <span>{{ range[0] }} of {{ total }} items</span>
  </ng-template>
</div>
