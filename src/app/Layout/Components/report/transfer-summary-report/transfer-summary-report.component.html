<div>
  <div nz-row [nzGutter]="10" class="desktop">
    <div class="tab_card" *ngFor="let data of carddetails">
      <nz-card>
        <div class="card-text">
          <span>{{ data.title }}</span>
        </div>
        <div class="card-client">
          <span>{{ data.tiledata[0].value }}</span>
        </div>
        <!-- <div class="card-text-number">
          <span>{{ data.tiledata }}</span>
        </div> -->
      </nz-card>
    </div>
  </div>
</div>

<div class="filter_sections">
  <div nz-col nzSpan="1">
    <span class="filter-txt">Filter by:</span>
  </div>
  <div nz-row [nzGutter]="10" class="filter-btn-bar">
    <!-- <div style="display: flex"> -->

    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu1"
          [nzClickHide]="false"
          nzPlacement="bottomCenter"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByClientNameOn === true }"
        >
          Client Name
        </button>
        <nz-dropdown-menu #menu1="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <nz-select
                class="dropdown"
                items="clientNames"
                nzSuffixIcon="caret-down"
                nzShowSearch
                bindLabel="clientName"
                [(ngModel)]="clientName"
                nzPlaceHolder="Select Client Name"
              >
                <nz-option
                  *ngFor="let data of clientNames"
                  [nzLabel]="data.clientName"
                  [nzValue]="data.clientName"
                ></nz-option>
              </nz-select>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="resetFilterByClientName()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter date-------------------
---------------------------------------------------- -->

    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu2"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
        >
          Date
        </button>
        <nz-dropdown-menu #menu2="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="date-select">
                <nz-date-picker
                  nzPlaceHolder="Start Date"
                  class="start-date"
                  [nzFormat]="'dd/MM/yyyy'"
                  [nzAllowClear]="true"
                  [(ngModel)]="fromDate"
                  [nzDisabledDate]="disabledFutureDates"
                ></nz-date-picker>
                <nz-date-picker
                  nzPlaceHolder="End Date"
                  class="start-date"
                  [nzFormat]="'dd/MM/yyyy'"
                  [nzAllowClear]="true"
                  [(ngModel)]="toDate"
                  [nzDisabledDate]="disabledFutureDates"
                ></nz-date-picker>
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByDate()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>
    <!-- --------------filter Transfer Amt.-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu3"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByTransferAmountOn === true }"
        >
          Transfer Amt.
        </button>
        <nz-dropdown-menu #menu3="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="amount-select">
                <input
                  nz-input
                  placeholder="Start Amount"
                  [(ngModel)]="transferAmountStart"
                  class="card_input"
                />
                <input
                  class="card_input"
                  nz-input
                  placeholder="End Amount"
                  [(ngModel)]="transferAmountEND"
                />
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                [(ngModel)]="transferAmount"
                (click)="resetFilterByTransferAmount()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter User Type-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu4"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByUserTypeOn === true }"
        >
          User Type
        </button>
        <nz-dropdown-menu #menu4="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <nz-select
                class="dropdown"
                items="userTypes"
                nzSuffixIcon="caret-down"
                bindLabel="userTypes"
                [(ngModel)]="usertype"
                nzPlaceHolder="Select User Type"
                nzShowSearch
              >
                <nz-option
                  *ngFor="let data of userTypes"
                  [nzLabel]="data.userTypeDesc"
                  [nzValue]="data.userTypeDesc"
                ></nz-option>
              </nz-select>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByUserType()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Transfer Status-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu5"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByTransferStatusOn === true }"
        >
          Transfer Status
        </button>
        <nz-dropdown-menu #menu5="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <nz-radio-group [(ngModel)]="transferStatus" nzName="radiogroup">
                <div nz-row [nzGutter]="[16, 16]" class="radio-group-row">
                  <div nz-col [nzSpan]="14" nzFlex="start">
                    <label nz-radio nzValue="CREATED">Created</label>
                    <label nz-radio nzValue="ACCEPTED">Accepted</label>
                    <label nz-radio nzValue="PENDING">Pending</label>
                  </div>
                  <div nz-col [nzSpan]="8" nzFlex="End">
                    <label nz-radio nzValue="CANCELLED">Cancelled</label>
                    <label nz-radio nzValue="FAILED">Failed</label>
                    <label nz-radio nzValue="SUCCEEDED">Succeeded</label>
                  </div>
                </div>
              </nz-radio-group>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByTransferStatus()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Transfer As-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu6"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByTransferModeOn === true }"
        >
          Transfer As
        </button>
        <nz-dropdown-menu #menu6="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <nz-radio-group [(ngModel)]="transferMode" nzName="radiogroup">
                <div class="radio-group-row">
                  <div class="radio-group-col">
                    <label
                      nz-radio
                      *ngFor="let mode of transferModes"
                      nzValue="{{ mode.transactionModeDesc }}"
                      >{{ mode.transactionModeDesc }}</label
                    >
                  </div>
                </div>
              </nz-radio-group>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByTransferMode()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Transfer Ref.-------------------
---------------------------------------------------- -->

    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu7"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByTransferReferenceOn === true }"
        >
          Transfer Ref.
        </button>
        <nz-dropdown-menu #menu7="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="ref-select">
                <input
                  class="card_input"
                  nz-input
                  placeholder="Enter Transfer Ref."
                  [(ngModel)]="transactionRef"
                />
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByTransferReference()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Customer ref.-------------------
---------------------------------------------------- -->

    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu8"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByCustomerReferenceOn === true }"
        >
          Customer ref.
        </button>
        <nz-dropdown-menu #menu8="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="ref-select">
                <input
                  class="card_input"
                  nz-input
                  [(ngModel)]="customerRef"
                  placeholder="Enter Customer Ref."
                />
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByCustomerReference()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Currency-------------------
---------------------------------------------------- -->

    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu9"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByCurrencyOn === true }"
        >
          Currency
        </button>
        <nz-dropdown-menu #menu9="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <nz-select
                class="dropdown"
                items="currencies"
                nzSuffixIcon="caret-down"
                bindLabel="currencyDesc"
                [(ngModel)]="currenci"
                nzPlaceHolder="Select Receiving Currency"
                nzShowSearch
              >
                <nz-option
                  *ngFor="let data of currencies"
                  [nzLabel]="data.currencyCode"
                  [nzValue]="data.currencyCode"
                ></nz-option
              ></nz-select>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByCurrency()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Agent Name-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu10"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByAgentNameOn === true }"
        >
          Agent Name
        </button>
        <nz-dropdown-menu #menu10="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <div class="ref-select">
                <input
                  class="card_input"
                  nz-input
                  placeholder="Enter Agent Name"
                  [(ngModel)]="agentName"
                />
              </div>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByAgentName()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>

    <!-- --------------filter Country-------------------
---------------------------------------------------- -->
    <div nz-col class="tab_button">
      <ng-container>
        <button
          nz-button
          nz-dropdown
          class="filter_btn"
          [nzDropdownMenu]="menu11"
          nzPlacement="bottomCenter"
          [nzClickHide]="false"
          nzTrigger="click"
          [ngClass]="{ filterActive: filterByCountryOn === true }"
        >
          Country
        </button>
        <nz-dropdown-menu #menu11="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>
              <nz-select
                class="dropdown"
                items="transferApprovedCountries"
                nzSuffixIcon="caret-down"
                bindLabel="countryDto.countryName"
                [(ngModel)]="countryName"
                nzPlaceHolder="Select Countries"
                nzShowSearch
              >
                <nz-option
                  *ngFor="let data of country"
                  [nzLabel]="data.countryName"
                  [nzValue]="data.countryName"
                ></nz-option>
              </nz-select>
            </li>
            <li nz-menu-item class="btn__section">
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="resetFilterByCountry()"
              >
                Reset
              </button>
              <button
                nz-button
                class="btn btn__high_orange btn_card"
                (click)="getreportdetails()"
              >
                Save
              </button>
            </li>
          </ul>
        </nz-dropdown-menu>
      </ng-container>
    </div>
  </div>
</div>
<!-- </div> -->
<div class="desktop_only table-container">
  <nz-table
    [nzScroll]="{ x: '1800px' }"
    #basicTable
    [nzData]="reportdetails"
    [nzPageSize]="50"
    [nzShowPagination]="false"
  >
    <thead>
      <tr class="heading_tr">
        <th nzCustomFilter>
          <div class="border-start-th">CLIENT NAME</div>
        </th>
        <th>
          <div class="border-middle-th">TRANSFER DATE</div>
        </th>
        <th nzCustomFilter>
          <div class="border-middle-th">CUSTOMER REFERENCE</div>
        </th>
        <th nzCustomFilter>
          <div class="border-middle-th">AGENT NAME</div>
        </th>
        <th>
          <div class="border-middle-th">TRANSFER REFERENCE</div>
        </th>
        <th
          *ngFor="let column of listOfColumn"
          [nzSortFn]="column.compare"
          [nzSortPriority]="column.priority"
        >
          <div class="border-middle-th">{{ column.title }}</div>
        </th>
        <th>
          <div class="border-middle-th">TRANSFER AS</div>
        </th>
        <th>
          <div class="border-middle-th">BENEFICIARY DETAILS</div>
        </th>
        <th>
          <div class="border-middle-th">TRANSFER STATUS</div>
        </th>
        <th *ngIf="this.privileges.CORE_SHOW_REPORT_VIEW">
          <div class="border-middle-th"></div>
        </th>
        <th>
          <div class="border-middle-th"></div>
        </th>
      </tr>
    </thead>

    <tbody class="body_tr" *ngFor="let data of basicTable.data">
      <tr>
        <td>
          <div class="border-middle">{{ data.clientName }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.transferDate }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.customerReference }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.agentName }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.transferReference }}</div>
        </td>
        <td>
          <div class="border-middle">
            {{ formatCurrency(data.transferAmount) }}
          </div>
        </td>
        <td>
          <div class="border-middle">
            {{ formatCurrency(data.settlementAmount) }}
          </div>
        </td>
        <td>
          <div class="border-middle">{{ data.adminFee }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.agentFee }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.payingBy }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.transferAs }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.beneficiaryDetails }}</div>
        </td>
        <td>
          <div class="border-middle">{{ data.transferStatus }}</div>
        </td>
        <td *ngIf="this.privileges.CORE_SHOW_REPORT_VIEW">
          <div class="border-middle">
            <img
              class="images"
              src="./assets/icons/icons8-eye-30.png"
              (click)="getDetailById(data.agentTranscationDetailsId)"
            />
          </div>
        </td>
        <td>
          <div class="border-middle">
            <img
              class="images"
              src="./assets/icons/Notess.svg"
              (click)="addNotes(data.agentTranscationDetailsId)"
            />
          </div>
        </td>
      </tr>
    </tbody>
  </nz-table>

  <!-- <div class="mobile_only">
    <div class="table-card">
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>CLIENT NAME</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>GBP</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>TRANSFER DATE </span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>NPR - Nepal Rupee</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>CUSTOMER REFERENCE</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Bank Deposit - Upto 48 hours</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>AGENT NAME</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Cash</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>TRANSFER REFERENCE</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>FIXED</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>TRANSFER AMOUNT</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>0</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>SETTLEMENT AMOUNT</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>100</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>ADMIN FEE</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>1.12</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>AGENT FEE</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>1.12</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>PAYING BY</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>1.12</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>TRANSFER AS</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>1.12</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span>BENEFICIARY DETAILS</span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>1.12</span>
        </div>
      </div>
      <div nz-row [nzGutter]="12" class="table-row">
        <div nz-col [nzSpan]="12" class="table-col">
          <span> TRANSFER STATUS </span>
        </div>
        <div nz-col [nzSpan]="12" class="table-col">
          <span>Done</span>
        </div>
      </div>
    </div>
  </div> -->
  <div class="pagination-row">
    <nz-pagination
      class="pagination"
      [nzPageSize]="pageSize"
      [nzPageIndex]="currentPageIndex"
      (nzPageIndexChange)="pageIndexChange($event)"
      [nzTotal]="totalRecord"
      nzShowQuickJumper
      [nzShowTotal]="rangeTemplate"
    >
    </nz-pagination>
    <ng-template #rangeTemplate let-range="range" let-total>
      <span>{{ range[0] }} of {{ total }} items</span>
    </ng-template>
  </div>
</div>
