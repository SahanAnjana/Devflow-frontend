<div class="modal_content">
  <form class="form-figure send_mail_form" [formGroup]="addNotes">
    <div nz-row [nzGutter]="10">
      <div nz-col nzLg="24">
        <nz-form-item>
          <nz-form-label
            >Subject
            <span class="required-mark">*</span>
          </nz-form-label>
          <nz-form-control>
            <nz-select
              class="modal-dropdown"
              bindLabel=""
              nzPlaceHolder="Select Subject"
              nzSuffixIcon="caret-down"
              nzAllowClear
              formControlName="subjectField"
              nzShowSearch
            >
              <nz-option
                *ngFor="let sub of subject"
                [nzValue]="sub.subject"
                [nzLabel]="sub.subject"
              ></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div>
      <nz-form-item>
        <nz-form-label
          >Note
          <span class="required-mark">*</span>
        </nz-form-label>
        <nz-form-control>
          <angular-editor
            placeholder="Enter message here..."
            [config]="editorConfig"
            formControlName="noteBody"
          ></angular-editor>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div class="btn_row">
      <div>
        <button class="btn btn__next" (click)="closeMail()">Cancel</button>
      </div>
      <div>
        <button class="btn btn__cancel" (click)="addNote()">Send</button>
      </div>
    </div>
  </form>

  <div class="mini_table">
    <nz-table
      class="table-container"
      #basicTable
      [nzPageSize]="5"
      [nzData]="AllNotes"
      [nzShowPagination]="true"
      ><tbody class="head">
        <tr>
          <td>
            <div>Subject</div>
          </td>

          <td>
            <div>Note</div>
          </td>

          <td>
            <div>date</div>
          </td>
        </tr>
      </tbody>

      <tbody class="body_tr">
        <ng-container *ngFor="let category of getPayloadKeys()">
          <tr *ngFor="let note of notesData[category]">
            <td>
              <div>
                {{ note.subject }}
              </div>
            </td>

            <td>
              <div [innerHTML]="note.note"></div>
            </td>

            <td>
              <div>
                {{ note.addedDate }}
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </nz-table>
  </div>
</div>
