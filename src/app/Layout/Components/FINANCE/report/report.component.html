<div>
  <form nz-form [formGroup]="reportForm">
    <div nz-row class="title-bar">
      <div nz-col [nzSpan]="4">
        <nz-select
          nzAllowClear="true"
          nzSuffixIcon="caret-down"
          nzPlaceHolder="select report"
          (ngModelChange)="onReportChange($event)"
          [(ngModel)]="selectedReport"
          formControlName="selectedReport"
        >
          <nz-option
            *ngFor="let data of reportList"
            [nzValue]="data.id"
            [nzLabel]="data.label"
          ></nz-option>
        </nz-select>
      </div>
      <div nz-col [nzSpan]="4">
        <nz-date-picker
          nzPlaceHolder="From date"
          [(ngModel)]="fromDate"
          formControlName="fromDate"
        ></nz-date-picker>
      </div>
      <div nz-col [nzSpan]="4">
        <nz-date-picker
          nzPlaceHolder="To date"
          [(ngModel)]="toDate"
          formControlName="toDate"
        ></nz-date-picker>
      </div>
      <div class="download-btn" nz-col [nzSpan]="10">
        <button class="btn" (click)="downloadReport()">Download report</button>
      </div>
    </div>
  </form>

  <div class="table-container">
    <nz-table
      #basicTable
      [nzData]="allReportSummary || []"
      [nzPageSize]="50"
      [nzShowPagination]="false"
    >
      <thead>
        <tr class="heading_tr">
          <th><div class="border-start-th">TOTAL INCOME</div></th>
          <th><div class="border-middle-th">TOTAL EXPENCESS</div></th>
          <th>
            <div class="border-middle-th">NET PROFIT</div>
          </th>
          <th><div class="border-start-th">PENDING INVOICES</div></th>
          <th><div class="border-middle-th">OVERDIVE INVOICES</div></th>
        </tr>
      </thead>

      <tbody class="body_tr">
        <tr *ngFor="let data of basicTable.data">
          <td>
            <div class="border-middle">{{ data?.total_income }}</div>
          </td>
          <td>
            <div class="border-middle">{{ data?.total_expenses }}</div>
          </td>
          <td>
            <div class="border-middle">
              {{ data?.net_profit }}
            </div>
          </td>
          <td>
            <div class="border-middle">{{ data?.pending_invoices }}</div>
          </td>
          <td>
            <div class="border-middle">{{ data?.overdue_invoices }}</div>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
  <div class="pagination-row">
    <nz-pagination
      class="pagination"
      [nzPageSize]="pageSize"
      [nzPageIndex]="currentPageIndex"
      [nzTotal]="totalRecord"
      nzShowQuickJumper
      [nzShowTotal]="rangeTemplate"
    >
    </nz-pagination>
    <ng-template #rangeTemplate let-range="range" let-total>
      <span>{{ range[0] }} of {{ total }} items</span>
    </ng-template>
  </div>
</div>
